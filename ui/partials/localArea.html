<!-- Header -->
<div ng-include src="'partials/header.html'"></div>

<div class="container">

    <div class="row section">
        <div class="col-lg-12">
            <h2>Vancouver's {{currentLocalArea}}</h2>
            <div class="row">
                <div class="col-md-8">
                    <accordion>
                        <accordion-group heading="311 Data" is-open="true">

                            <table class="table table-condensed table-hover table-bordered table-striped">
                                <thead>
                                <tr ng-class="'header'">
                                    <th style="width: 14px" class="no-wrap">Case Type</th>
                                    <th style="width: 14px" class="no-wrap">Number of Cases</th>
                                </tr>
                                </thead>
                                <tr ng-repeat="ct in grid.items |
                                   orderBy:'numCases':true |
                                   startFrom:(grid.currentPage-1) * grid.pageSize |
                                   limitTo:grid.pageSize">
                                    <td>{{ct.caseTypeName}}</td>
                                    <td>{{ct.numCases}}</td>
                                </tr>
                            </table>

                            <!--
                            <pre>Total Items: {{grid.items.length}}</pre>
                            <pre>The selected page no: {{grid.currentPage}} / {{numPages}}</pre>
                            -->
                            <!-- All tab - pagination -->
                            <div pagination class="span8 text-center" style="margin-top: 0px;"
                                 boundary-links="true"
                                 total-items="grid.items.length"
                                 max-size="grid.maxSize"
                                 items-per-page="grid.pageSize"
                                 page="grid.currentPage"
                                 ng-model="curPage"
                                 num-pages="numPages"
                                 class="pagination-sm"
                                 previous-text="&lsaquo;"
                                 next-text="&rsaquo;"
                                 first-text="&laquo;"
                                 last-text="&raquo;">
                            </div>
                            <div class="charts">
                                <div ac-chart="chartType" ac-data="chartData" ac-config="chartConfig" id='chart' class='chart'></div>
                            </div>
                            <div>&nbsp;<p/></div>
                        </accordion-group>
                        <accordion-group heading="Monthly Case Types">
                            This is category A information for {{currentLocalArea}}

                            <table class="table table-condensed table-hover table-bordered table-striped">
                                <thead>
                                <tr ng-class="'header'">
                                    <th style="width: 14px" class="no-wrap">Month</th>
                                    <th style="width: 14px" class="no-wrap">Case Type</th>
                                    <th style="width: 14px" class="no-wrap">Number of Cases</th>
                                </tr>
                                </thead>
                                <tr ng-repeat="ct in monthlyCaseTypes |
                                   orderBy:'numCases':true |
                                   startFrom:(grid.currentPage-1) * 10 |
                                   limitTo:10">
                                    <td>{{ct.month}}</td>
                                    <td>{{ct.caseTypeName}}</td>
                                    <td>{{ct.numCases}}</td>
                                </tr>
                            </table>
                        </accordion-group>
                        <accordion-group heading="Category B">
                            This is category B information for {{currentLocalArea}}
                        </accordion-group>
                    </accordion>
                </div>
                <!-- Right column -->
                <div class="col-md-4">
                    <div class="row">
                        <canvas id="myCanvas" width="400" height="300"></canvas>
                        <script>
                            var canvas = document.getElementById('myCanvas');
                            var context = canvas.getContext('2d');

                            context.beginPath();
                            context.rect(0,0, 400,300);
                            context.fillStyle = 'lightblue';
                            context.fill();
                            context.lineWidth = 1;
                            context.strokeStyle = 'blue';
                            context.stroke();
                            context.font = 'italic 20pt Calibri';
                            context.fillStyle = "#fff";
                            context.fillText('Local Area Map Here', 50, 150);
                        </script>
                    </div>
                    <div class="row">
                        <p/>
                        <table class="table table-bordered width:100%">
                            <thead>
                            <tr ng-class="'header'">
                                <th style="width: 14px" class="no-wrap">Area and Demographic Information</th>
                            </tr>
                            </thead>
                            <tr>
                                <td>TBD</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Footer -->
<div ng-include src="'partials/footer.html'"></div>


</div>
<!-- /.container -->


